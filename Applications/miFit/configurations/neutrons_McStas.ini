% miFit configuration script file: miFit interface to iFit
%
% specific configuration plug-in for neutron scattering/McStas items
% import with mifit('path_to/neutrons_McStas.ini')
config.Menu_Neutron_Scattering = { ...
  'McStas: Open instrument file...','mifit(mccode('''', ''compile=1''));', ...
  'McStas: Open instrument example...', 'mifit(mccode(''gui'', ''compile=1''));', ...
  'McStas: View selected model instrument geometry...', 'mccode_display(getappdata(mifit, ''CurrentModel''));', ...
  'McStas: Compute instrument single step/scans...', ...
    [ '[tmp_v, tmp_m]=mccode_run(getappdata(mifit, ''CurrentModel''));' ...
      'mifit(''push'', tmp_v); clear tmp_m tmp_v' ], ...
  'McStas: help','doc(iData,''McStas.html'')' };

% still missing:
% maximize:
%    fmax(getappdata(mifit, ''CurrentModel''))
% edit code:
%    should update source code, write temporary .instr, recompile, delete temporary file
